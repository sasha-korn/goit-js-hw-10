{"version":3,"file":"1-timer.js","sources":["../src/js/1-timer.js"],"sourcesContent":["import flatpickr from 'flatpickr';\nimport 'flatpickr/dist/flatpickr.min.css';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nlet days = document.querySelector('[data-days]');\nlet hours = document.querySelector('[data-hours]');\nlet minutes = document.querySelector('[data-minutes]');\nlet seconds = document.querySelector('[data-seconds]');\nconst btn = document.querySelector('[type=\"button\"]');\nconst inp = document.querySelector('#datetime-picker');\n\nlet userSelectedDate = {};\n\nconst options = {\n  enableTime: true,\n  time_24hr: true,\n  defaultDate: new Date(),\n  minuteIncrement: 1,\n  onClose(selectedDates) {\n    userSelectedDate = selectedDates[0];\n    const now = new Date();\n    if (userSelectedDate.getTime() < now.getTime()) {\n      btn.disabled = true;\n      showNotification();\n      return;\n    }\n    btn.disabled = false;\n  },\n};\n\nfunction showNotification() {\n  iziToast.show({\n    message: 'Please choose a date in the future',\n    position: 'topRight',\n    progressBar: false,\n    theme: 'dark',\n    backgroundColor: 'red',\n  });\n}\n\nflatpickr('#datetime-picker', options);\nbtn.addEventListener('click', startCountDown);\nlet interval;\nfunction startCountDown() {\n  inp.disabled = true;\n  btn.disabled = true;\n  interval = setInterval(updCountDown, 1000);\n}\n\nfunction updCountDown() {\n  const now = new Date();\n  if (now >= userSelectedDate) {\n    inp.disabled = false;\n    btn.disabled = false;\n    clearInterval(interval);\n    return;\n  }\n  const timeRemain = convertMs(userSelectedDate.getTime() - now.getTime());\n  days.innerText = formatDigit(timeRemain.days);\n  hours.innerText = formatDigit(timeRemain.hours);\n  minutes.innerText = formatDigit(timeRemain.minutes);\n  seconds.innerText = formatDigit(timeRemain.seconds);\n}\n\nfunction formatDigit(n) {\n  return ` ${n.toString().padStart(2, '0')} `;\n}\n\nfunction convertMs(ms) {\n  const second = 1000;\n  const minute = second * 60;\n  const hour = minute * 60;\n  const day = hour * 24;\n\n  // Remaining days\n  const days = Math.floor(ms / day);\n  // Remaining hours\n  const hours = Math.floor((ms % day) / hour);\n  // Remaining minutes\n  const minutes = Math.floor(((ms % day) % hour) / minute);\n  // Remaining seconds\n  const seconds = Math.floor((((ms % day) % hour) % minute) / second);\n\n  return { days, hours, minutes, seconds };\n}\n"],"names":["days","hours","minutes","seconds","btn","inp","userSelectedDate","options","selectedDates","now","showNotification","iziToast","flatpickr","startCountDown","interval","updCountDown","timeRemain","convertMs","formatDigit","n","ms"],"mappings":"+IAIA,IAAIA,EAAO,SAAS,cAAc,aAAa,EAC3CC,EAAQ,SAAS,cAAc,cAAc,EAC7CC,EAAU,SAAS,cAAc,gBAAgB,EACjDC,EAAU,SAAS,cAAc,gBAAgB,EACrD,MAAMC,EAAM,SAAS,cAAc,iBAAiB,EAC9CC,EAAM,SAAS,cAAc,kBAAkB,EAErD,IAAIC,EAAmB,CAAA,EAEvB,MAAMC,EAAU,CACd,WAAY,GACZ,UAAW,GACX,YAAa,IAAI,KACjB,gBAAiB,EACjB,QAAQC,EAAe,CACrBF,EAAmBE,EAAc,CAAC,EAClC,MAAMC,EAAM,IAAI,KAChB,GAAIH,EAAiB,QAAO,EAAKG,EAAI,QAAO,EAAI,CAC9CL,EAAI,SAAW,GACfM,IACA,MACD,CACDN,EAAI,SAAW,EAChB,CACH,EAEA,SAASM,GAAmB,CAC1BC,EAAS,KAAK,CACZ,QAAS,qCACT,SAAU,WACV,YAAa,GACb,MAAO,OACP,gBAAiB,KACrB,CAAG,CACH,CAEAC,EAAU,mBAAoBL,CAAO,EACrCH,EAAI,iBAAiB,QAASS,CAAc,EAC5C,IAAIC,EACJ,SAASD,GAAiB,CACxBR,EAAI,SAAW,GACfD,EAAI,SAAW,GACfU,EAAW,YAAYC,EAAc,GAAI,CAC3C,CAEA,SAASA,GAAe,CACtB,MAAMN,EAAM,IAAI,KAChB,GAAIA,GAAOH,EAAkB,CAC3BD,EAAI,SAAW,GACfD,EAAI,SAAW,GACf,cAAcU,CAAQ,EACtB,MACD,CACD,MAAME,EAAaC,EAAUX,EAAiB,QAAO,EAAKG,EAAI,QAAO,CAAE,EACvET,EAAK,UAAYkB,EAAYF,EAAW,IAAI,EAC5Cf,EAAM,UAAYiB,EAAYF,EAAW,KAAK,EAC9Cd,EAAQ,UAAYgB,EAAYF,EAAW,OAAO,EAClDb,EAAQ,UAAYe,EAAYF,EAAW,OAAO,CACpD,CAEA,SAASE,EAAYC,EAAG,CACtB,MAAO,IAAIA,EAAE,SAAU,EAAC,SAAS,EAAG,GAAG,CAAC,GAC1C,CAEA,SAASF,EAAUG,EAAI,CAOrB,MAAMpB,EAAO,KAAK,MAAMoB,EAAK,KAAG,EAE1BnB,EAAQ,KAAK,MAAOmB,EAAK,MAAO,IAAI,EAEpClB,EAAU,KAAK,MAAQkB,EAAK,MAAO,KAAQ,GAAM,EAEjDjB,EAAU,KAAK,MAASiB,EAAK,MAAO,KAAQ,IAAU,GAAM,EAElE,MAAO,CAAE,KAAApB,EAAM,MAAAC,EAAO,QAAAC,EAAS,QAAAC,CAAO,CACxC"}